<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Syntaxy</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Syne:wght@600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/styles.css">
</head>
<body>

<!-- LOGIN -->
<!-- LOGIN -->
<div id="login-screen">
  <div class="login-card">
    <div class="login-card-glow"></div>
    <div class="icon-glow">âœ¦</div>
    <h1>Syntaxy</h1>
    <p class="ls">Theme it.</p>

    <div class="login-tabs">
      <button class="login-tab active" id="tab-login">Login</button>
      <button class="login-tab" id="tab-register">Register</button>
    </div>

    <div class="login-error" id="login-error"></div>
    <div class="login-success" id="login-success"></div>

    <input id="login-username" placeholder="Username" autocomplete="username">
    <input id="login-password" type="password" placeholder="Password" autocomplete="current-password">
    <input id="login-password-confirm" type="password" placeholder="Confirm Password" autocomplete="new-password" style="display:none">

    <button class="login-btn" id="login-btn">Login</button>
  </div>
</div>

<!-- LAYOUT -->
<div id="layout">
  <div id="server-rail"></div>
  <div class="rail-tooltip" id="rail-tooltip"></div>
  <div id="channel-sidebar">
  <div id="sidebar-bg-layer"></div>
  <div id="sidebar-header">
      <div id="server-banner"></div>
      <div class="sb-header-row">
        <h2 id="sidebar-title">Syntaxy</h2>
        <div style="display:flex;gap:2px;flex-wrap:wrap">
  <button class="sb-btn" id="btn-srv-set" title="Server Settings"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVR4nOWUvU4CURCFPzEW/vAEYCcmEMROfQxsaH0Cf55CetdO409pCDQGtdRGHsLCThslQpRoCK65ejbZ3FxWVrcw8SQ3uzP3zJm9M3cH/gu2AN9aG0kmOHYkOExKvADcSnRZy5fP7MXCGHAFNIAKsAu8S7APTGr15RuIU1GMiU1FJVhzlOIV2AHyIZ5597Rn842GEzPAnUh7QAu4AUoRH1QSp6UYXxppF3k7RJiQb1zPeZWgq1UHctoLSmJi7qVRdSVYBV5EONeJAvG2oxQPQOaT8cW9kN9olBmCJaAnYlG+huxTCWaBpnwn4hRl96QRiWeRp2V3ZQdfazAr31PoBL5iiZugIzubRAJXieqym0pixM/kq4mzMEqJykOanFND7SY/AnNxmlx1XNOUnhk1tKNVC4mPfE3TP/jRFsW5Bva/+9GiRoVnjYqCZtBbnFERDLtLNbYi4YE17KasYeeJW1es0YiFvDWuV0LjOnyqX+HIUYoDEsSmI8F6kgn+Lj4A8qSo0U5gVbgAAAAASUVORK5CYII=" class="icon-img invert" alt=""></button>
  <button class="sb-btn" id="btn-profile" title="My Profile"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVR4nO3UQUrDQBSH8R8umqVdWrrWK+hJxEPYHsNuRPFAurR1ZfEAuinVlUUUXVYGJiCCdNJObCn54A8heeGbl8wbGjaUAn2M8BETrnvxWS10Mcb8j9zHmqwUC6Q/5Vk77ydIy5zmFN9VEA9zit8riENtNuYVs5aO37biH/fWtauLOKMpc9ySme4CeS0nV0krfsph3HAht/Fe9k4b/pUdHGGAGzzjK2aKa5zhMNauTAcXeKkwx2FR59hbRtjGFT6XOKfLhHcvsZsqPcDTCsLfecR+ivgho7TMOEU8rUE8SRGfYJZR+orjFHHDdvENyZP0ibBvoI8AAAAASUVORK5CYII=" class="icon-img invert" alt=""></button>
  <button class="sb-btn" id="btn-friends" title="Friends">ğŸ‘¥<span class="friends-notif-badge" id="friends-notif-badge"></span></button>
  <button class="sb-btn" id="btn-ui" title="UI Settings"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtElEQVR4nO2UMQ7CMAxF38gNIrgOHYDTcAkWmHsVzsGCaFe4A6tRJSPSqjgJCVue5CWy/7edKFCeJXABjvyJFhCNU+nO98ACOKvBMMmIHfDwOhAjnkDjiXd6flCTVs9H5IqLxjDJLO+EWBxwnYj3wKqEgUsVJ2Et7hdxMnZ+8y50HWNg0RnijTaTZSBfxFFxKWXQz+w8WJ/6TKdUgyDVIEiwPva7FiPulsFWE3LEN+FBK3x4AdaaoWW8RUr6AAAAAElFTkSuQmCC" class="icon-img invert" alt=""></button>
  <button class="sb-btn" id="btn-logout" title="Logout" style="color:var(--danger)">â»</button>
</div>
      </div>
    </div>
    <div id="sidebar-body"></div>
  </div>
  <div id="sidebar-resize-handle"></div>
  <div id="main-area">
    <div id="bg-layer"></div>
    <div id="chat-header">
      <div class="hd-left">
        <span id="hd-icon" style="font-size:18px">#</span>
        <div><h3 id="hd-name">general</h3><span class="hd-sub" id="hd-desc"></span></div>
      </div>
      <div style="display:flex;gap:2px">
  <button class="hd-btn" id="btn-search" title="Search Messages (Ctrl+F)"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVR4nO2USwrCQBBE397PSr2OxhsoXkXEhajJxtsoeg6NN/G71ZGBCgQhTjJBFLGgITDVXUNNdeBX0QIiIAauqh0QAs2ywwfAGTAZdQL6ZYbfNWgJtIGKqgOsdHYDej62JDcfvuCNxDkCjSICUermLqzFnRcR2KvJ2uJCIK59+Ny4qKmag1sT11qaG+cCAnUfgVhNNi0udH0sCtVko+jCRtxZEYGmlsgoilkYi3Pw2eq+lsgoioHepCpbkpvbmuCJnpYo61dx0HDjY1OChpZoq/he9T1P2WLKirgwehJZ/EW+SmTKmzB7V6I+hweEGmSrsOKf7QAAAABJRU5ErkJggg==" class="icon-img invert" alt=""></button>
  <button class="hd-btn" id="btn-chbg" title="Background"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR4nO3VvSuGYRQG8B+xKa9FGSxKUgYLZmU2MLAoWaRksFjfjUn5+gN8bDab/8AosUgZJEX5KiEfr5466unN+/G8jK46y32fc67nnOvc5+EfGZHDDh5QyGhJzHbkKIkk+TPWsZTR1iN2qxxB8hUrascq7ss5JKXmq0hUh1HMoSN1no8cvybYSPX+MUXyZwSPIWhnxMz/NcExzrAZMaO1ENRjDLNoKfIbwBHusBa+mQgasZvq83mRmKVQFcEi9vAZve3HDS7QFX4NmMAMmrISJI/lA9Op8x5chfVhP1XdCdqyELxj8oe7rqjiM3ymMBiP8xTt1RIsl7hrxgHeMF4k+G3otFnrmOYi+StGfrjvxXWqbZkIWnGIFwyXie3GZSWCh1hY32gLEZ8wpDLWKi277ZiiZKMuhHiFGNuFCrYSVSY6lEQu9nktP5z7SJ4Mwz9UjS9tAZDbZ49V0wAAAABJRU5ErkJggg==" class="icon-img invert" alt=""></button>
  <button class="hd-btn" id="btn-members" title="Members"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVR4nO2UO0sDQRSFv0KxUoLFIhoLC3+PD7Cx9vHTNASrxMpKEDFgt4X21oqmNbAycIRhmZ2dO4lFcA/cZua7556ZWRY6LYH6wBCYqm6A/Tk48/B3oKqVW9vJ4MwaymgkI1djrQ0yOLOmMvFPsau1zwzOrC+Z9FuMUzmzrmUylrmrW61dedwgkTNrD5gFPq6Z9nzuO4EzaRuYBEx/6xnYEnsW4SbyMmnNG/4CHADrqkPg1QuxAqwCd8CpQjnuyOOe5JmsC294L7Df88wvIz6bwJu4c0uARzW5kzfpWMx9i9eJuAdLgA81uats0kbk3UOc+ysmqwoYxbhYAItffkOLljdAsYDhRU6AUg1lQ4i6YdOAouZlSl1GGlMDtB0k++pSA8z9lNWCAmSr6gLQBeCfB+jEX+sHlivc7NzpAGsAAAAASUVORK5CYII=" class="icon-img invert" alt=""></button>
</div>
    </div>
    <div id="messages-wrap"></div>
    <div id="input-area">
      <div id="reply-bar"><span id="reply-label">Replyingâ€¦</span><button id="btn-cancel-reply">âœ•</button></div>
      <div class="input-row">
        <button class="i-btn att" id="btn-attach"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR4nO2WsU7CUBSGv8luAhprLMpb+CAmogMLDwAOvqEuYFQ0wQFIiIObOgmTDJib/CQ3zS0p9NSJP7kJLSfn7zn33K+FnbZXBHSBPjDX6uteREk6BV6BZcZ6AerWpg1gKoMRcAHsAwnQBMaeuVnlZ56pa2s1EFPzzDsWppHXXmdaWRPb9OIK60bJ3jMq9ZUo9sfC+EHJXDX8p/FMyQ51HQPPwF0g9kqxPQvjLyU7kulQ164Tvtw2TCyH617JboE3/R7qIVaqaKCWwMDqOLVTkEib1jzTqY6eidzA/AZMj4EW8OGZNoqw91vtbct0GDC9BhZeFwbCqRl7Q5WeA596yJ4Gac+CvQfqQNaelsbeeM30lsbeOGNPXXvN2DsKsPcxY5Dcnpqx9zLwnxuWp9SRWViz9yRHbMuSvbOcxjUPDibs7ed4zZXC3q4SjlVVWtWy2Bvpg2xl3hQaE71PJ9uyN4/qnnlobczeTSvvaGLnRdi7E57+APHIojLsmNzxAAAAAElFTkSuQmCC" class="icon-img invert" style="width:20px;height:20px" alt=""></button>
        <input type="file" id="file-input" accept="image/*,image/gif">
        <textarea id="msg-input" rows="1" placeholder="Messageâ€¦"></textarea>
        <button class="i-btn send" id="btn-send">â†µ</button>
      </div>
    </div>
  </div>
</div>

<!-- SEARCH WINDOW -->
<div id="search-window">
  <div id="search-window-header">
    <h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVR4nO2USwrCQBBE397PSr2OxhsoXkXEhajJxtsoeg6NN/G71ZGBCgQhTjJBFLGgITDVXUNNdeBX0QIiIAauqh0QAs2ywwfAGTAZdQL6ZYbfNWgJtIGKqgOsdHYDej62JDcfvuCNxDkCjSICUermLqzFnRcR2KvJ2uJCIK59+Ny4qKmag1sT11qaG+cCAnUfgVhNNi0udH0sCtVko+jCRtxZEYGmlsgoilkYi3Pw2eq+lsgoioHepCpbkpvbmuCJnpYo61dx0HDjY1OChpZoq/he9T1P2WLKirgwehJZ/EW+SmTKmzB7V6I+hweEGmSrsOKf7QAAAABJRU5ErkJggg==" class="icon-img invert" style="vertical-align:middle;margin-right:8px" alt="">Search Messages</h3>
    <button id="search-window-close">âœ•</button>
  </div>
  <div id="search-window-input-wrap">
    <input type="text" id="search-window-input" placeholder="Search for keywordsâ€¦" autocomplete="off">
  </div>
  <div id="search-results-area"></div>
</div>

<!-- CTX MENU -->
<div id="ctx-menu">
  <div class="ctx-item" id="ctx-reply"><span class="ctx-ico">â†©</span>Reply</div>
  <div class="ctx-item" id="ctx-copy"><span class="ctx-ico">ğŸ“‹</span>Copy Text</div>
  <div class="ctx-item" id="ctx-react"><span class="ctx-ico">ğŸ˜€</span>React</div>
  <div class="ctx-item" id="ctx-edit" style="display:none"><span class="ctx-ico">âœï¸</span>Edit</div>
  <div class="ctx-sep" id="ctx-sep" style="display:none"></div>
  <div class="ctx-item danger" id="ctx-delete" style="display:none"><span class="ctx-ico">ğŸ—‘ï¸</span>Delete</div>
</div>

<!-- CHANNEL CTX MENU -->
<div id="ctx-channel">
  <div class="ctx-item" id="ctx-ch-edit"><span class="ctx-ico">âœï¸</span>Edit Channel</div>
  <div class="ctx-sep"></div>
  <div class="ctx-item danger" id="ctx-ch-delete"><span class="ctx-ico">ğŸ—‘ï¸</span>Delete Channel</div>
</div>

<!-- DM CTX MENU -->
<div id="ctx-dm">
  <div class="ctx-item" id="ctx-dm-pin"><span class="ctx-ico">ğŸ“Œ</span>Pin DM</div>
</div>

<!-- PROFILE CARD -->
<div id="profile-card">
  <div class="pc-banner" id="pc-banner"></div>
  <div class="pc-av" id="pc-av"></div>
  <div class="pc-info">
    <div style="text-align:center"><span class="pc-name" id="pc-name"></span><span class="pc-friend" id="pc-friend">âœ“ Friend</span></div>
    <div class="pc-bio" id="pc-bio"></div>
  </div>
  <div class="pc-actions-wrap">
    <div class="pc-actions" id="pc-actions"></div>
  </div>
</div>

<!-- Profile Preview Window -->
<div class="ov" id="m-profile-preview" style="pointer-events:none">
  <div class="modal" style="width:340px;pointer-events:auto">
    <h3 style="margin-bottom:16px">Live Preview</h3>
    <div id="preview-profile-card" style="width:300px;border-radius:16px;overflow:hidden;box-shadow:0 4px 16px rgba(0,0,0,.3);margin:0 auto">
      <div class="pc-banner" id="preview-pc-banner" style="height:100px;background-size:cover;background-position:center;position:relative"></div>
      <div class="pc-av" id="preview-pc-av" style="width:84px;height:px;border-radius:50%;border:4px solid var(--pc-primary,#161b22);position:absolute;top:127px;left:57%;transform:translateX(-50%);overflow:hidden;background:#1c2333;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px rgba(0,0,0,.4);z-index:5;margin-left:-20px"></div>
      <div class="pc-info" style="padding:52px 20px 8px;background:var(--pc-primary,#161b22);position:relative;z-index:1">
        <div style="text-align:center">
          <span class="pc-name" id="preview-pc-name" style="font-family:'Syne',sans-serif;font-size:18px;font-weight:700;display:block"></span>
        </div>
        <div class="pc-bio" id="preview-pc-bio" style="font-size:12px;color:#a0a8b3;margin-top:8px;min-height:16px;line-height:1.5;text-align:center"></div>
      </div>
      <div class="pc-actions-wrap" style="padding:12px 20px 20px;background:var(--pc-primary,#161b22);position:relative">
        <div class="pc-actions" style="display:flex;gap:8px;position:relative;z-index:1">
          <button class="pc-btn pri" id="preview-profile-btn" style="flex:1;padding:10px 0;border-radius:10px;border:none;font-size:12px;font-weight:600;cursor:default;color:#fff">Sample Button</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- USER SEARCH MODAL -->
<div id="user-search-overlay" class="ov">
    <div class="modal" style="width: 500px">
        <button id="user-search-close" class="modal-x">Ã—</button>
        <h3>ğŸ” Search Users</h3>

        <div class="fr">
            <label>Search by Username</label>
            <input type="text" id="user-search-input" placeholder="Type username...">
        </div>

        <div id="user-search-results" style="margin-top: 16px; max-height: 400px; overflow-y: auto;">
        </div>
    </div>
</div>

<!-- FRIEND REQUESTS MODAL -->
<div class="ov" id="m-friends">
  <div class="modal" style="width:460px">
    <button class="modal-x" data-close="m-friends">âœ•</button>
    <h3>ğŸ‘¥ Friends</h3>
    <div style="display:flex;gap:0;margin:12px 0 16px;border-bottom:2px solid var(--border)">
      <button class="friends-tab active" id="tab-friends-list" style="flex:1;padding:10px;background:none;border:none;color:var(--text);font-weight:600;font-size:13px;cursor:pointer;border-bottom:2px solid var(--accent);margin-bottom:-2px;font-family:Inter,sans-serif">Friends</button>
      <button class="friends-tab" id="tab-friends-requests" style="flex:1;padding:10px;background:none;border:none;color:var(--dim);font-weight:600;font-size:13px;cursor:pointer;border-bottom:2px solid transparent;margin-bottom:-2px;font-family:Inter,sans-serif">Requests <span id="req-count-badge" style="display:none;background:var(--danger);color:#fff;font-size:11px;padding:1px 6px;border-radius:10px;margin-left:4px">0</span></button>
    </div>
    <div id="friends-tab-content" style="max-height:380px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--border) transparent">
      <div id="friends-list-panel"></div>
      <div id="friends-requests-panel" style="display:none"></div>
    </div>
  </div>
</div>

<!-- MODALS -->\

<!-- Profile -->
<div class="ov" id="m-profile">
  <div class="modal" style="width:400px">
    <button class="modal-x" data-close="m-profile">âœ•</button>
    <h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVR4nO3UQUrDQBSH8R8umqVdWrrWK+hJxEPYHsNuRPFAurR1ZfEAuinVlUUUXVYGJiCCdNJObCn54A8heeGbl8wbGjaUAn2M8BETrnvxWS10Mcb8j9zHmqwUC6Q/5Vk77ydIy5zmFN9VEA9zit8riENtNuYVs5aO37biH/fWtauLOKMpc9ySme4CeS0nV0krfsph3HAht/Fe9k4b/pUdHGGAGzzjK2aKa5zhMNauTAcXeKkwx2FR59hbRtjGFT6XOKfLhHcvsZsqPcDTCsLfecR+ivgho7TMOEU8rUE8SRGfYJZR+orjFHHDdvENyZP0ibBvoI8AAAAASUVORK5CYII=" class="icon-img invert" style="vertical-align:middle;margin-right:8px" alt="">Edit Profile</h3>

    <div class="fr"><label>Display Name</label><input type="text" id="p-name" maxlength="24" placeholder="Your display name"></div>

    <div class="fr">
      <label>Bio <span id="bio-counter" style="float:right;font-weight:400;opacity:.7">0/50</span></label>
      <input type="text" id="p-bio" maxlength="50" placeholder="Tell us about yourselfâ€¦">
    </div>

    <h4 style="margin:20px 0 12px;font-size:13px;color:var(--text);font-weight:600">Profile Theme</h4>
    <p style="font-size:11px;color:var(--dim);margin-bottom:12px">Your main color fills the card. Accent color highlights buttons & banner.</p>

    <div class="two">
      <div class="fr">
        <label>Main Color</label>
        <input type="color" id="p-color" value="#58a6ff" class="color-rounded">
      </div>
      <div class="fr">
        <label>Accent Color</label>
        <input type="color" id="p-accent" value="#3fb950" class="color-rounded">
      </div>
    </div>
    <p style="font-size:10px;color:var(--dim);margin:8px 0 4px">Button Gradient Preview:</p>
    <div class="profile-grad-preview" id="profile-grad-preview"></div>

    <h4 style="margin:20px 0 12px;font-size:13px;color:var(--text);font-weight:600">Media</h4>

    <div class="fr"><label>Avatar</label>
      <div class="upload-box" id="ub-avatar"><input type="file" accept="image/*,image/gif"><span class="ph">Click to upload avatar</span></div>
    </div>
    <div class="fr"><label>Banner</label>
      <div class="upload-box" id="ub-banner"><input type="file" accept="image/*,image/gif"><span class="ph">Click to upload banner</span></div>
    </div>

    <div class="btn-row">
      <button class="btn grad" id="btn-save-prof">Save Changes</button>
      <button class="btn sec" data-close="m-profile">Cancel</button>
    </div>
  </div>
</div>

<!-- UI Settings -->
<div class="ov" id="m-ui">
  <div class="modal">
    <button class="modal-x" data-close="m-ui">âœ•</button>
    <h3>ğŸ¨ Personal UI Settings</h3>
    <p style="font-size:12px;color:var(--dim);margin-bottom:14px">Customize how Syntaxy looks for you. Colors update live.</p>

    <div class="fr">
      <div class="checkbox-row">
        <input type="checkbox" id="ui-override">
        <label for="ui-override" style="margin:0;text-transform:none;letter-spacing:0">Override Server Aesthetics (use my custom UI everywhere)</label>
      </div>
    </div>

    <div class="two">
      <div class="fr"><label>Background</label><input type="color" id="ui-bg" value="#0d1117"></div>
      <div class="fr"><label>Surface</label><input type="color" id="ui-surf" value="#161b22"></div>
    </div>
    <div class="two">
      <div class="fr"><label>Accent Start</label><input type="color" id="ui-acc1" value="#58a6ff"></div>
      <div class="fr"><label>Accent End</label><input type="color" id="ui-acc2" value="#3fb950"></div>
    </div>
    <div class="grad-swatch" id="ui-grad-swatch" style="background:linear-gradient(135deg,#58a6ff,#3fb950)"></div>
    <div class="two" style="margin-top:14px">
      <div class="fr"><label>Text</label><input type="color" id="ui-text" value="#c9d1d9"></div>
      <div class="fr"><label>Border</label><input type="color" id="ui-border" value="#30363d"></div>
    </div>
    <div class="fr"><label>Sidebar Background Style</label>
      <select id="ui-sidebar-style">
        <option value="solid">Solid Color</option>
        <option value="gradient">Gradient</option>
      </select>
    </div>
  <div class="fr">
  <label>Sidebar Opacity <span id="ui-opacity-val" style="float:right;font-weight:400;opacity:.7">100%</span></label>
  <input type="range" id="ui-sidebar-opacity" min="0" max="100" value="100" style="width:100%;cursor:pointer">
</div>
<div class="fr">
  <label>Sidebar Blur <span id="ui-blur-val" style="float:right;font-weight:400;opacity:.7">10px</span></label>
  <input type="range" id="ui-sidebar-blur" min="0" max="30" value="10" style="width:100%;cursor:pointer">
</div>
<div class="fr">
  <label>Sidebar Background Mode</label>
  <select id="ui-sidebar-bg-mode">
    <option value="color">Solid Color (behind blur)</option>
    <option value="image">Show Channel Background Image</option>
  </select>
</div>
    <div id="ui-sidebar-grad-controls" style="display:none">
      <div class="two">
        <div class="fr"><label>Sidebar Grad Start</label><input type="color" id="ui-sb-grad1" value="#161b22"></div>
        <div class="fr"><label>Sidebar Grad End</label><input type="color" id="ui-sb-grad2" value="#1c2333"></div>
      </div>
      <div class="grad-swatch" id="ui-sidebar-grad-swatch" style="background:linear-gradient(135deg,#161b22,#1c2333)"></div>
    </div>
    <div class="btn-row">
      <button class="btn grad" id="btn-save-ui">Save</button>
      <button class="btn sec" id="btn-reset-ui">Reset</button>
      <button class="btn sec" data-close="m-ui">Close</button>
    </div>
  </div>
</div>

<!-- Personal UI Preview Window -->
<div class="ov" id="m-ui-preview" style="pointer-events:none">
  <div class="modal" style="width:500px;pointer-events:auto">
    <h3 style="margin-bottom:16px">Live Preview</h3>
    <div id="preview-ui-sample" style="border:1px solid var(--border);border-radius:12px;overflow:hidden">
      <!-- Mini sidebar -->
      <div style="display:flex;height:300px">
        <div id="preview-ui-sidebar" style="width:180px;padding:12px;display:flex;flex-direction:column;gap:6px">
          <div style="font-size:11px;font-weight:600;opacity:0.6;margin-bottom:4px">CHANNELS</div>
          <div style="padding:6px 8px;border-radius:6px;background:rgba(255,255,255,0.08)"># general</div>
          <div style="padding:6px 8px;border-radius:6px;opacity:0.7"># random</div>
          <div style="padding:6px 8px;border-radius:6px;opacity:0.7"># announcements</div>
        </div>
        <!-- Mini main area -->
        <div id="preview-ui-main" style="flex:1;display:flex;flex-direction:column">
          <div id="preview-ui-header" style="padding:10px 14px;border-bottom:1px solid;display:flex;align-items:center;gap:8px">
            <span style="font-size:14px;font-weight:600"># general</span>
          </div>
          <div id="preview-ui-content" style="flex:1;padding:14px;display:flex;flex-direction:column;gap:8px">
            <div style="display:flex;gap:8px;align-items:start">
              <div style="width:28px;height:28px;border-radius:50%;opacity:0.7" id="preview-ui-avatar"></div>
              <div style="flex:1">
                <div style="font-weight:600;font-size:12px;margin-bottom:2px">User</div>
                <div style="font-size:12px;opacity:0.9">Sample message text</div>
              </div>
            </div>
          </div>
          <div id="preview-ui-input" style="padding:10px 14px;border-top:1px solid">
            <div style="padding:8px 12px;border-radius:8px;border:1px solid;font-size:12px;opacity:0.6">
              Message #general...
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Server Settings -->
<div class="ov" id="m-srv">
  <div class="modal" style="width:460px">
    <button class="modal-x" data-close="m-srv">âœ•</button>
    <h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVR4nOWUvU4CURCFPzEW/vAEYCcmEMROfQxsaH0Cf55CetdO409pCDQGtdRGHsLCThslQpRoCK65ejbZ3FxWVrcw8SQ3uzP3zJm9M3cH/gu2AN9aG0kmOHYkOExKvADcSnRZy5fP7MXCGHAFNIAKsAu8S7APTGr15RuIU1GMiU1FJVhzlOIV2AHyIZ5597Rn842GEzPAnUh7QAu4AUoRH1QSp6UYXxppF3k7RJiQb1zPeZWgq1UHctoLSmJi7qVRdSVYBV5EONeJAvG2oxQPQOaT8cW9kN9olBmCJaAnYlG+huxTCWaBpnwn4hRl96QRiWeRp2V3ZQdfazAr31PoBL5iiZugIzubRAJXieqym0pixM/kq4mzMEqJykOanFND7SY/AnNxmlx1XNOUnhk1tKNVC4mPfE3TP/jRFsW5Bva/+9GiRoVnjYqCZtBbnFERDLtLNbYi4YE17KasYeeJW1es0YiFvDWuV0LjOnyqX+HIUYoDEsSmI8F6kgn+Lj4A8qSo0U5gVbgAAAAASUVORK5CYII=" class="icon-img invert" style="vertical-align:middle;margin-right:8px" alt="">Server Settings</h3>
    <div class="fr"><label>Name</label><input type="text" id="s-name"></div>
    <div class="fr"><label>Icon</label><div class="upload-box" id="ub-srv-icon"><input type="file" accept="image/*,image/gif"><span class="ph">Upload icon</span></div></div>
    <div class="fr"><label>Banner</label><div class="upload-box" id="ub-srv-ban"><input type="file" accept="image/*,image/gif"><span class="ph">Upload banner</span></div></div>

    <h3 style="margin-top:24px;margin-bottom:12px;font-size:16px">Server Aesthetics</h3>
    <p style="font-size:12px;color:var(--dim);margin-bottom:14px">Customize the look for all members of this server.</p>

    <div class="two">
      <div class="fr"><label>Background</label><input type="color" id="s-bg" value="#0d1117"></div>
      <div class="fr"><label>Surface</label><input type="color" id="s-surf" value="#161b22"></div>
    </div>
    <div class="two">
      <div class="fr"><label>Accent Start</label><input type="color" id="s-acc1" value="#58a6ff"></div>
      <div class="fr"><label>Accent End</label><input type="color" id="s-acc2" value="#3fb950"></div>
    </div>
    <div class="grad-swatch" id="s-grad-swatch" style="background:linear-gradient(135deg,#58a6ff,#3fb950)"></div>
    <div class="two" style="margin-top:14px">
      <div class="fr"><label>Text</label><input type="color" id="s-text" value="#c9d1d9"></div>
      <div class="fr"><label>Border</label><input type="color" id="s-border" value="#30363d"></div>
    </div>
    <div class="fr"><label>Sidebar Style</label>
      <select id="s-sidebar-style">
        <option value="solid">Solid Color</option>
        <option value="gradient">Gradient</option>
      </select>
    </div>
   <div id="s-sidebar-grad-controls" style="display:none">
  <div class="two">
    <div class="fr"><label>Sidebar Grad Start</label><input type="color" id="s-sb-grad1" value="#161b22"></div>
    <div class="fr"><label>Sidebar Grad End</label><input type="color" id="s-sb-grad2" value="#1c2333"></div>
  </div>
  <div class="grad-swatch" id="s-sidebar-grad-swatch" style="background:linear-gradient(135deg,#161b22,#1c2333)"></div>
</div>

<div class="fr">
  <label>Sidebar Opacity <span id="s-opacity-val" style="float:right;font-weight:400;opacity:.7">100%</span></label>
  <input type="range" id="s-sidebar-opacity" min="0" max="100" value="100" style="width:100%;cursor:pointer">
</div>
<div class="fr">
  <label>Sidebar Blur <span id="s-blur-val" style="float:right;font-weight:400;opacity:.7">10px</span></label>
  <input type="range" id="s-sidebar-blur" min="0" max="30" value="10" style="width:100%;cursor:pointer">
</div>
<div class="fr">
  <label>Sidebar Background Mode</label>
  <select id="s-sidebar-bg-mode">
    <option value="color">Solid Color (behind blur)</option>
    <option value="image">Show Channel Background Image</option>
  </select>
</div>

<div class="fr" style="margin-top:14px"><label>Default Channel BG</label>
    <div class="upload-box" id="ub-srv-chbg"><input type="file" accept="image/*,image/gif"><span class="ph">Default channel bg</span></div></div>
    <div class="btn-row">
      <button class="btn pri" id="btn-save-srv">Save</button>
      <button class="btn sec" id="btn-invite-srv" style="background:linear-gradient(135deg,#58a6ff,#3fb950);color:white;border:none">ğŸ”— Invite</button>
      <button class="btn sec" data-close="m-srv">Cancel</button>
    </div>
  </div>
</div>

<!-- Server Preview Window - UNIQUE PER SERVER -->
<div class="ov" id="m-srv-preview" style="pointer-events:none">
  <div class="modal" style="width:520px;pointer-events:auto">
    <h3 style="margin-bottom:16px">Server Preview</h3>

    <!-- Server Rail Icon Preview -->
    <div style="margin-bottom:16px">
      <div style="font-size:11px;font-weight:600;color:var(--dim);margin-bottom:8px">SERVER ICON</div>
      <div style="display:flex;gap:8px;align-items:center;padding:12px;background:var(--surface2);border-radius:10px">
        <div id="preview-srv-rail-icon" class="rail-icon" style="position:relative;border-color:var(--accent)"></div>
        <span style="font-size:13px;opacity:0.8">This is how your server appears in the rail</span>
      </div>
    </div>

    <!-- Server UI Preview -->
    <div style="border:1px solid var(--border);border-radius:12px;overflow:hidden">
      <!-- Banner preview -->
      <div id="preview-srv-banner" style="height:80px;background-size:cover;background-position:center;display:none"></div>

      <div style="display:flex;height:280px">
        <!-- Mini sidebar -->
        <div id="preview-srv-sidebar" style="width:180px;padding:12px;display:flex;flex-direction:column;gap:6px">
          <div id="preview-srv-title" style="font-size:13px;font-weight:700;margin-bottom:8px"></div>
          <div style="font-size:11px;font-weight:600;opacity:0.6;margin-bottom:4px">CHANNELS</div>
          <div style="padding:6px 8px;border-radius:6px;background:rgba(255,255,255,0.08)"># general</div>
          <div style="padding:6px 8px;border-radius:6px;opacity:0.7"># random</div>
        </div>

        <!-- Mini main area -->
        <div id="preview-srv-main" style="flex:1;display:flex;flex-direction:column;position:relative">
          <!-- Background layer -->
          <div id="preview-srv-bg" style="position:absolute;inset:0;background-size:cover;background-position:center;z-index:0"></div>

          <div style="position:relative;z-index:1;display:flex;flex-direction:column;height:100%">
            <div id="preview-srv-header" style="padding:10px 14px;border-bottom:1px solid;background:rgba(13,17,23,0.82);backdrop-filter:blur(10px)">
              <span style="font-size:14px;font-weight:600"># general</span>
            </div>
            <div id="preview-srv-content" style="flex:1;padding:14px;display:flex;flex-direction:column;gap:8px">
              <div style="display:flex;gap:8px;align-items:start">
                <div style="width:28px;height:28px;border-radius:50%;opacity:0.7" id="preview-srv-avatar"></div>
                <div style="flex:1">
                  <div style="font-weight:600;font-size:12px;margin-bottom:2px">User</div>
                  <div style="font-size:12px;opacity:0.9">Sample message</div>
                </div>
              </div>
            </div>
            <div id="preview-srv-input" style="padding:10px 14px;border-top:1px solid;background:rgba(13,17,23,0.88);backdrop-filter:blur(10px)">
              <div style="padding:8px 12px;border-radius:8px;border:1px solid;font-size:12px;opacity:0.6">
                Message...
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Create Server -->
<div class="ov" id="m-newsrv">
  <div class="modal">
    <button class="modal-x" data-close="m-newsrv">âœ•</button>
    <h3>Create a Server</h3>
    <div class="fr"><label>Name</label><input type="text" id="ns-name" placeholder="My Server"></div>
    <div class="fr"><label>Icon</label><div class="upload-box" id="ub-ns-icon"><input type="file" accept="image/*,image/gif"><span class="ph">Upload icon</span></div></div>
    <div class="fr"><label>Accent</label><input type="color" id="ns-accent" value="#58a6ff"></div>
    <div class="btn-row">
      <button class="btn pri" id="btn-do-newsrv">Create</button>
      <button class="btn sec" data-close="m-newsrv">Cancel</button>
    </div>
  </div>
</div>

<!-- Join Server via Invite -->
<div class="ov" id="m-joinsrv">
  <div class="modal">
    <button class="modal-x" data-close="m-joinsrv">âœ•</button>
    <h3>Join a Server</h3>
    <p style="font-size:13px;color:var(--dim);margin-bottom:12px">Enter an invite code to join a server</p>
    <div class="fr"><label>Invite Code</label><input type="text" id="join-invite-code" placeholder="e.g. a1b2c3d4" autocomplete="off"></div>
    <div id="invite-preview" style="display:none;padding:14px;background:var(--surface2);border-radius:10px;margin:12px 0">
      <div style="display:flex;align-items:center;gap:10px">
        <div id="invite-srv-icon" style="width:44px;height:44px;border-radius:12px;background:var(--accent);display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;overflow:hidden"></div>
        <div>
          <div id="invite-srv-name" style="font-weight:700;font-size:15px"></div>
          <div id="invite-srv-members" style="font-size:12px;color:var(--dim)"></div>
        </div>
      </div>
    </div>
    <div id="invite-error" style="display:none;color:#f85149;font-size:13px;margin:8px 0"></div>
    <div class="btn-row">
      <button class="btn pri" id="btn-do-joinsrv">Join Server</button>
      <button class="btn sec" data-close="m-joinsrv">Cancel</button>
    </div>
  </div>
</div>

<!-- Invite Code Display -->
<div class="ov" id="m-invite">
  <div class="modal">
    <button class="modal-x" data-close="m-invite">âœ•</button>
    <h3>Invite People</h3>
    <p style="font-size:13px;color:var(--dim);margin-bottom:12px">Share this code with others so they can join your server</p>
    <div style="display:flex;gap:8px;align-items:center">
      <input type="text" id="invite-code-display" readonly style="flex:1;font-family:monospace;font-size:16px;letter-spacing:2px;text-align:center;background:var(--surface2);border:1px solid var(--border);padding:12px;border-radius:8px;color:var(--text)">
      <button class="btn pri" id="btn-copy-invite" style="white-space:nowrap">ğŸ“‹ Copy</button>
    </div>
    <div id="invite-copied-msg" style="display:none;color:var(--accent);font-size:13px;text-align:center;margin-top:8px">Copied!</div>
    <button class="btn pri" id="btn-new-invite" style="width:100%;margin-top:12px">Generate New Code</button>
  </div>
</div>

<!-- Create Channel -->
<div class="ov" id="m-newch">
  <div class="modal">
    <button class="modal-x" data-close="m-newch">âœ•</button>
    <h3>Create Channel</h3>
    <div class="fr"><label>Name</label><input type="text" id="nc-name" placeholder="my-channel"></div>
    <div class="fr"><label>Description</label><input type="text" id="nc-desc" placeholder="About this channel"></div>
    <div class="btn-row">
      <button class="btn pri" id="btn-do-newch">Create</button>
      <button class="btn sec" data-close="m-newch">Cancel</button>
    </div>
  </div>
</div>

<!-- Edit Channel -->
<div class="ov" id="m-editchannel">
  <div class="modal">
    <button class="modal-x" data-close="m-editchannel">âœ•</button>
    <h3>âœï¸ Edit Channel</h3>
    <div class="fr"><label>Name</label><input type="text" id="ec-name"></div>
    <div class="fr"><label>Description</label><input type="text" id="ec-desc"></div>
    <div class="btn-row">
      <button class="btn pri" id="btn-save-editchannel">Save</button>
      <button class="btn sec" data-close="m-editchannel">Cancel</button>
    </div>
  </div>
</div>

<!-- Channel BG -->
<div class="ov" id="m-chbg">
  <div class="modal">
    <button class="modal-x" data-close="m-chbg">âœ•</button>
    <h3 id="chbg-title">ğŸ–¼ï¸ Channel Background</h3>
    <p style="font-size:12px;color:var(--dim);margin-bottom:12px" id="chbg-desc">Upload an image or GIF.</p>
    <div class="fr"><div class="upload-box" id="ub-chbg"><input type="file" accept="image/*,image/gif"><span class="ph">Click to upload</span></div></div>
    <div class="btn-row">
      <button class="btn pri" id="btn-save-chbg">Set</button>
      <button class="btn dan" id="btn-rm-chbg">Remove</button>
      <button class="btn sec" data-close="m-chbg">Cancel</button>
    </div>
  </div>
</div>

<!-- Members -->
<div class="ov" id="m-members">
  <div class="modal">
    <button class="modal-x" data-close="m-members">âœ•</button>
    <h3>ğŸ‘¥ Members</h3>
    <div id="members-list"></div>
  </div>
</div>

<!-- Gallery Settings -->
<div class="ov" id="m-gallery-settings">
  <div class="modal" style="width:480px">
    <button class="modal-x" data-close="m-gallery-settings">âœ•</button>
    <h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtElEQVR4nO2UMQ7CMAxF38gNIrgOHYDTcAkWmHsVzsGCaFe4A6tRJSPSqjgJCVue5CWy/7edKFCeJXABjvyJFhCNU+nO98ACOKvBMMmIHfDwOhAjnkDjiXd6flCTVs9H5IqLxjDJLO+EWBxwnYj3wKqEgUsVJ2Et7hdxMnZ+8y50HWNg0RnijTaTZSBfxFFxKWXQz+w8WJ/6TKdUgyDVIEiwPva7FiPulsFWE3LEN+FBK3x4AdaaoWW8RUr6AAAAAElFTkSuQmCC" class="icon-img invert" style="vertical-align:middle;margin-right:8px" alt="">Gallery Settings</h3>
    <p style="font-size:12px;color:var(--dim);margin-bottom:14px">Customize your gallery's appearance. Changes preview live.</p>

    <div class="fr"><label>Page Background Image/GIF</label>
      <div class="upload-box" id="ub-gallery-bg"><input type="file" accept="image/*,image/gif"><span class="ph">Upload page background</span></div>
    </div>
    <div class="two">
      <div class="fr"><label>Page BG Color</label><input type="color" id="gal-bg" value="#0d1117"></div>
      <div class="fr"><label>Header/Controls</label><input type="color" id="gal-surf" value="#161b22"></div>
    </div>



    <h4 style="margin:18px 0 10px;font-size:13px;color:var(--text)">Accent Colors</h4>
    <div class="two">
      <div class="fr"><label>Accent Start</label><input type="color" id="gal-acc1" value="#58a6ff"></div>
      <div class="fr"><label>Accent End</label><input type="color" id="gal-acc2" value="#3fb950"></div>
    </div>
    <div class="grad-swatch" id="gal-grad-swatch" style="background:linear-gradient(135deg,#58a6ff,#3fb950)"></div>

    <h4 style="margin:18px 0 10px;font-size:13px;color:var(--text)">Other Colors</h4>
    <div class="two">
      <div class="fr"><label>Text Color</label><input type="color" id="gal-text" value="#c9d1d9"></div>
      <div class="fr"><label>Border Color</label><input type="color" id="gal-border" value="#30363d"></div>
    </div>

    <div class="btn-row">
      <button class="btn grad" id="btn-save-gallery-settings">Save</button>
      <button class="btn sec" id="btn-reset-gallery-settings">Reset</button>
      <button class="btn sec" data-close="m-gallery-settings">Cancel</button>
    </div>
  </div>
</div>

<!-- Gallery Page -->
<div id="gallery-page">
  <div id="gallery-bg"></div>
  <div id="gallery-header">
    <h2 id="gallery-owner-name">Gallery</h2>
    <div style="display:flex;gap:10px">
      <button class="btn sec" id="btn-gallery-settings">âš™ï¸ Settings</button>
      <button class="gal-close-btn" id="btn-close-gallery">âœ• Close</button>
    </div>
  </div>
   <div id="gallery-content">
    <div id="gallery-grid"></div>
    <div class="gallery-empty" id="gallery-empty" style="display:none">No items in gallery yet. Upload images or videos below!</div>
  </div>
  <div id="gallery-controls">
    <input type="file" id="gallery-upload" accept="image/*,video/*,image/gif" multiple style="display:none">
    <button class="btn grad" id="btn-gallery-upload" style="padding:10px 20px">ğŸ“¤ Upload Media</button>
  </div>
</div>

<!-- Explore Page -->
<div id="explore-page">
  <div id="explore-bg-layer"></div>
  <div id="explore-header">
    <button class="explore-exit-btn" id="btn-exit-explore">â† Back</button>
    <h2 id="explore-page-title">Explore</h2>
    <div style="display:flex;gap:8px">
      <button class="explore-edit-bg-btn" id="btn-explore-bg" title="Change Background">ğŸ–¼ï¸</button>
      <button class="explore-upload-btn" id="btn-explore-upload">+ Create Post</button>
    </div>
  </div>
  <div id="explore-body">
    <div id="explore-content">
      <div class="explore-search-container">
        <input type="text" class="explore-search-bar" id="explore-search" placeholder="Search posts...">
      </div>
      <div class="explore-tabs">
        <button class="explore-tab active" id="explore-tab-explore">Explore</button>
        <button class="explore-tab" id="explore-tab-following">Following</button>
      </div>
      <div class="explore-feed" id="explore-feed"></div>
    </div>
  </div>
</div>

<!-- Explore Comment Modal -->
<div class="explore-modal-overlay" id="explore-comment-modal">
  <div class="explore-modal-content">
    <div class="explore-modal-header">
      <h3>Comments</h3>
      <button class="explore-modal-close" id="explore-close-comments">Ã—</button>
    </div>
    <div id="explore-modal-post-preview"></div>
    <div class="explore-comment-input-area">
      <textarea class="explore-comment-input" id="explore-comment-input" placeholder="Write a comment..."></textarea>
      <button class="explore-comment-submit" id="explore-submit-comment">Post Comment</button>
    </div>
    <div class="explore-comments-list" id="explore-comments-list"></div>
  </div>
</div>

<!-- Explore Upload Modal -->
<div class="explore-modal-overlay" id="explore-upload-modal">
  <div class="explore-modal-content">
    <div class="explore-modal-header">
      <h3>Create Post</h3>
      <button class="explore-modal-close" id="explore-close-upload">Ã—</button>
    </div>
    <div class="explore-upload-form" id="explore-upload-form">
      <div class="explore-field">
        <label>Title</label>
        <input type="text" id="explore-upload-title" placeholder="Give your post a title...">
      </div>
      <div class="explore-field">
        <label>Content Type</label>
        <select id="explore-content-type">
          <option value="text">Text/Paragraph</option>
          <option value="image">Image</option>
        </select>
      </div>
      <div class="explore-field" id="explore-text-field">
        <label>Text Content</label>
        <textarea id="explore-upload-text" placeholder="Write your post content..."></textarea>
      </div>
      <div class="explore-field" id="explore-image-field" style="display:none">
        <label>Upload Image</label>
        <div class="explore-file-area" id="explore-file-area">
          <div class="explore-file-label">Click to select an image or drag and drop</div>
          <div class="explore-file-name" id="explore-file-name"></div>
          <input type="file" id="explore-file-input" accept="image/*" style="display:none">
        </div>
        <div class="explore-img-preview" id="explore-img-preview"></div>
      </div>
      <div class="explore-field">
        <label>Community (Optional)</label>
        <input type="text" id="explore-upload-community" placeholder="e.g. r/webdev">
      </div>
      <div class="explore-upload-actions">
        <button class="btn sec" id="explore-upload-cancel">Cancel</button>
        <button class="btn grad" id="explore-upload-submit">Post</button>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCRIPT
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script src="/app.js"></script>
</body>
</html>


